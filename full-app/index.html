<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Seguridad e Higiene Web App</title>
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <div
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
          "
        >
          <div>
            <h1>üõ°Ô∏è Equipo de Protecci√≥n Personal</h1>
            <p class="subtitle">
              Consulta el EPP requerido por puesto y actividad
            </p>
          </div>
          <button class="btn-admin" onclick="openAdminPanel()">
            ‚öôÔ∏è Gestionar
          </button>
        </div>
      </header>

      <main>
        <!-- Position selection -->
        <section id="step-1" class="step active">
          <h2>Selecciona el Puesto de Trabajo</h2>
          <div id="positions-grid" class="grid">
            <!-- Se llena din√°micamente con JS -->
          </div>
        </section>

        <!-- Activity selection -->
        <section id="step-2" class="step hidden">
          <button class="btn-back" onclick="backToPositions()">
            ‚Üê Volver a Puestos
          </button>
          <h2>Selecciona la Actividad</h2>
          <p class="puesto-seleccionado">
            Puesto: <strong id="position-name"></strong>
          </p>
          <div id="activities-grid" class="grid">
            <!-- Se llena din√°micamente con JS -->
          </div>
        </section>

        <!-- Required personal protective equipment -->
        <section id="step-3" class="step hidden">
          <button class="btn-back" onclick="backToActivities()">
            ‚Üê Volver a Actividades
          </button>
          <h2>Equipo de Protecci√≥n Personal Requerido</h2>
          <div class="info-box">
            <p><strong>Puesto:</strong> <span id="ppe-position"></span></p>
            <p><strong>Actividad:</strong> <span id="ppe-activity"></span></p>
          </div>
          <div id="ppe-list" class="epp-container">
            <!-- Se llena din√°micamente con JS -->
          </div>
        </section>

        <!-- Admin Panel -->
        <section id="step-4" class="step hidden">
          <button class="btn-back" onclick="closeAdminPanel()">
            ‚Üê Cerrar Panel
          </button>
          <h2>Gesti√≥n de Datos</h2>

          <!-- Tabs Navigation -->
          <div class="admin-tabs">
            <button
              class="tab-btn active"
              onclick="switchAdminTab('positions')"
            >
              üìç Posiciones
            </button>
            <button class="tab-btn" onclick="switchAdminTab('activities')">
              üéØ Actividades
            </button>
            <button class="tab-btn" onclick="switchAdminTab('ppe')">
              üõ°Ô∏è EPP
            </button>
          </div>

          <!-- Tab 1: Positions -->
          <div id="tab-positions" class="admin-tab-content active">
            <h3>Gestionar Posiciones</h3>

            <!-- Add new position form -->
            <div class="admin-form">
              <h4>Agregar Nueva Posici√≥n</h4>
              <div class="form-group">
                <input
                  type="text"
                  id="new-position-name"
                  placeholder="Nombre de la posici√≥n"
                  class="form-input"
                />
                <button class="btn-primary" onclick="createNewPosition()">
                  + Agregar Posici√≥n
                </button>
              </div>
            </div>

            <!-- Positions list -->
            <div id="positions-list" class="admin-list">
              <!-- Se llena din√°micamente -->
            </div>

            <!-- Reset button -->
            <div
              style="
                margin-top: 30px;
                padding-top: 20px;
                border-top: 1px solid var(--border-color);
              "
            >
              <button class="btn-danger" onclick="confirmResetData()">
                üîÑ Restaurar datos originales
              </button>
            </div>
          </div>

          <!-- Tab 2: Activities -->
          <div id="tab-activities" class="admin-tab-content hidden">
            <h3>Gestionar Actividades</h3>

            <!-- Position selector -->
            <div class="admin-form">
              <h4>Selecciona una posici√≥n</h4>
              <select
                id="activity-position-select"
                class="form-input"
                onchange="onActivityPositionChange()"
              >
                <option value="">-- Selecciona posici√≥n --</option>
              </select>
            </div>

            <!-- Add new activity form -->
            <div id="add-activity-form" class="admin-form hidden">
              <h4>Agregar Nueva Actividad</h4>
              <div class="form-group">
                <input
                  type="text"
                  id="new-activity-name"
                  placeholder="Nombre de la actividad"
                  class="form-input"
                />
                <button class="btn-primary" onclick="createNewActivity()">
                  + Agregar Actividad
                </button>
              </div>
            </div>

            <!-- Activities list -->
            <div id="activities-list" class="admin-list">
              <!-- Se llena din√°micamente -->
            </div>
          </div>

          <!-- Tab 3: PPE -->
          <div id="tab-ppe" class="admin-tab-content hidden">
            <h3>Gestionar EPP</h3>

            <!-- Position selector -->
            <div class="admin-form">
              <h4>Selecciona una posici√≥n</h4>
              <select
                id="ppe-position-select"
                class="form-input"
                onchange="onPPEPositionChange()"
              >
                <option value="">-- Selecciona posici√≥n --</option>
              </select>
            </div>

            <!-- Activity selector -->
            <div id="ppe-activity-selector" class="admin-form hidden">
              <h4>Selecciona una actividad</h4>
              <select
                id="ppe-activity-select"
                class="form-input"
                onchange="onPPEActivityChange()"
              >
                <option value="">-- Selecciona actividad --</option>
              </select>
            </div>

            <!-- Add new PPE form -->
            <div id="add-ppe-form" class="admin-form hidden">
              <h4>Agregar Nuevo EPP</h4>
              <div class="form-group">
                <input
                  type="text"
                  id="new-ppe-name"
                  placeholder="Nombre del EPP"
                  class="form-input"
                />
                <button class="btn-primary" onclick="createNewPPE()">
                  + Agregar EPP
                </button>
              </div>
            </div>

            <!-- PPE list -->
            <div id="ppe-list-admin" class="admin-list">
              <!-- Se llena din√°micamente -->
            </div>
          </div>
        </section>
      </main>

      <footer>
        <div class="student-info">
          <p class="student-name">Ana Yustin Martinez Rodriguez</p>
          <p>Sexto semestre</p>
          <p>Materia: Practicas de Seguridad e Higiene</p>
          <p>Universidad Meze</p>
        </div>
      </footer>
    </div>

    <script src="js/data.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
